## Project Overview

This project manages a **Brands database**, performing **data transformation**, **data seeding**, and **exporting** using **Node.js**, **TypeScript**, and **Mongoose**.

- Clean and normalize existing brand documents.
- Add 10 new test brand documents with randomized data.
- Export the collection as a JSON file.
- Ensure all data follows the defined schema.

---

## Brand Schema

| Field               | Type   | Description                                              |
| ------------------- | ------ | -------------------------------------------------------- |
| `brandName`         | string | Brand name, required                                     |
| `yearFounded`       | number | Year the brand was founded (1600–current year), required |
| `headquarters`      | string | Brand headquarters, required                             |
| `numberOfLocations` | number | Number of locations, minimum 1, required                 |
| `createdAt`         | Date   | Automatically generated by timestamps                    |
| `updatedAt`         | Date   | Automatically generated by timestamps                    |

---

## Data Transformation

The transformation script (`transform.ts`) does the following:

1. Connects to MongoDB.
2. Iterates through all brand documents.
3. Fixes missing or inconsistent fields:
   - `brandName` is set from `brand.name` if missing.
   - `headquarters` is set from `hqAddress` if missing.
   - `numberOfLocations` is ensured as a number, defaults to `1`.
   - `yearFounded` is fixed from `yearsFounded` or `yearCreated`, defaults to `1960`.
4. Validates and saves the updated documents.

---

## Data Seeding

The seeding script (`seeding.ts`) adds 10 new brand documents:

- Uses **faker.js** to generate random values:
  - `brandName`
  - `headquarters`
  - `yearFounded` (between 1600 and current year)
  - `numberOfLocations` (1–10,000)
- Inserts the documents into the database.

---

## Exporting the Collection

After transformation and seeding, export the collection:

```bash
mongoexport --db yourDBName --collection brands --out brands.json --jsonArray
```

This produces a `brands.json` file ready for submission.

---

## Running the Project

1. Install dependencies:

```bash
npm install
```

2. Run the seeding script:

```bash
tsx src/seeding.ts
```

3. Run the transformation script:

```bash
tsx src/transform.ts
```

4. Export the collection as JSON:

```bash
mongoexport --db yourDBName --collection brands --out brands.json --jsonArray
```

---

## Notes

- TypeScript enforces type safety using the `IBrand` interface.
- All data transformations preserve schema integrity.
- Files included in the repository:
  - `src/seeding.ts`
  - `src/transform.ts`
  - `src/brands-schema.ts`
  - `src/db.ts`
  - `brands_db.brands.json`
  - `brands_seed_data.xlsx`
